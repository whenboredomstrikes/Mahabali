<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mahabali</title>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="res.css">
</head>

<body>

    <section id="hero" class="hero">
        <img class="b-1" src="assets/d1.webp" alt="">
        <img class="b-2" src="assets/d1.webp" alt="">

        <img class="bg" src="assets/big-bg.webp" alt="">
        <img class="maha" src="assets/mahabali.webp" alt="">

        <img class="logo" src="assets/big-text.webp" alt="" srcset="">

        <p class="t1">Mahabali (IAST: Mahābalī), also known as Bali, Indrasenan, or Māveli, is a daitya king featured in
            Hinduism. He is the grandson of Prahlada, and a descendant of the sage Kashyapa.
        </p>

        <p class="t2">Legend has it that Mahabali, the mythical beloved king of Kerala, visits his subjects on the day
            of Thiruvonam after ascending from the netherworld.
        </p>
    </section>

    <div class="marquee">
        <div class="marquee__inner" aria-hidden="true" ref="inner">
            <div class="marquee__part">
                <img src="assets/umber.webp" alt="">
                <b>HAPPY ONAM</b>
                <img src="assets/kanne.webp" alt="">
                <b>FROM THE <b class="line">ONE</b> AND ONLY <b class="line">MAVEELIII</b> YAA...!</b>
            </div>
            <div class="marquee__part">
                <img src="assets/umber.webp" alt="">
                <b>HAPPY ONAM</b>
                <img src="assets/kanne.webp" alt="">
                <b>FROM THE <b class="line">ONE</b> AND ONLY <b class="line">MAVEELIII</b> YAA...!</b>
            </div>
            <div class="marquee__part">
                <img src="assets/umber.webp" alt="">
                <b>HAPPY ONAM</b>
                <img src="assets/kanne.webp" alt="">
                <b>FROM THE <b class="line">ONE</b> AND ONLY <b class="line">MAVEELIII</b> YAA...!</b>
            </div>
        </div>
    </div>

    <section class="about">
        <img class="d1" src="assets/border-3.webp" alt="">
        <b class="m tt">MAHABALI</b>
        <br>
        <div>
            <b class="k tt">THE KING 
                <img src="assets/crown.webp" alt="">
            </b>
        </div>
        <p class="b tt">WHO GOT BANISHED</p>
        <div class="n ">
            <p class="ne">TO THE <b>NETHERWORLD</b>
                <img src="assets/portal.webp" alt="">
            </p>
        </div>
    </section>

    <section>
        
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.19/bundled/lenis.min.js"></script>
</body>
<script>

    let currentScroll = 0;
    let isScrollingDown = true;

    let tween = gsap.to(".marquee__part", { xPercent: -100, repeat: -1, duration: 10, ease: "linear" }).totalProgress(0.5);

    gsap.set(".marquee__inner", { xPercent: -50 });

    window.addEventListener("scroll", function () {

        if (window.pageYOffset > currentScroll) {
            isScrollingDown = true;
        } else {
            isScrollingDown = false;
        }

        gsap.to(tween, {
            timeScale: isScrollingDown ? 1 : -1
        });

        currentScroll = window.pageYOffset
    });

    ScrollTrigger.create({
        animation: gsap.from(".logo", {
            y: "50vh",
            scale: 7.3,
            yPercent: -50,
        }),
        scrub: true,
        trigger: ".hero",
        start: "top top",
        endTrigger: ".marquee",
        end: "bottom top",
    })
	
    const lenis = new Lenis()

    lenis.on('scroll', (e) => {
        console.log(e)
    })

    function raf(time) {
        lenis.raf(time)
        requestAnimationFrame(raf)
    }

    requestAnimationFrame(raf)
</script>

</html>